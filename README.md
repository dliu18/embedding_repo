# Repository of Pre-Generated Graph Embeddings

This repository contains pre-generated graph embeddings for a collection of commonly used graphs and embedding algorithms. The embeddings are contained in the `embeddings/` directory and the file structure is as follows: 
```
├── *graphName*
│   ├── *embeddingAlgorithm
│   │   └── {graphName}_{embeddingAlgorithm}_{embeddingDimension}_embedding.npy
```

The pre-generated embeddings are saved as numpy arrays and can be loaded into memory with `np.load`. The dimensions of the multi-imensional array are N x d where N is the number of nodes in the graph and d is the embedding dimension. The order of the nodes in the array is the same as `G.nodes()` where G is the networkx graph generated by reading the corresponding edgelist in `edgelists/`. 

The remainder of this documentation provides more detail about the graphs, embedding algorithms, and specific embedding execution details for reproducibility purposes. 

## Graphs 
| Name | Type | Nodes (N) | Edges (E) | Source |
| ----------- | ----------- | ----------- | ----------- | ----------- |
| Wikipedia | Word Co-occurrence | 4,777 | 184,812 | [Node2Vec Paper](http://snap.stanford.edu/node2vec/POS.mat) |
| Facebook | Social | 4,039 | 88,234 | [SNAP](http://snap.stanford.edu/data/facebook_combined.txt.gz) |
| Protein-Protein | Biological | 3,890 | 76,584 | [Node2Vec Paper](http://snap.stanford.edu/node2vec/Homo_sapiens.mat) |
| ca-HepTh | Citation | 9,877 | 25,998 | [SNAP](http://snap.stanford.edu/data/ca-HepPh.txt.gz) |
| LastFM | Social | 7,624 | 27,806 | [SNAP](http://snap.stanford.edu/data/lastfm_asia.zip) |
| Autonomous Systems | Internet | 22,963 | 48,436 | [Mark Newman's Webpage](http://www-personal.umich.edu/~mejn/netdata/as-22july06.zip) |

The edgelists for all of the above graphs are stored in `edgelists/`. 

For sources that provide graphs in Matlab's `.mat` format, edgelist were generated with the script in `util/convert_mat_edglist.py`.

## Algorithms 

| Node | Implementation | Notes |
| ----------- | ----------- | ----------- |
| SVD | [sklearn.decomposition.TruncatedSVD](https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html)| |
| HOPE | [GEM](https://github.com/palash1992/GEM) | beta is set to 0.01 |
| Laplacian Eigenmap | [sklearn.manifold.SpectralEmbedding](https://scikit-learn.org/stable/modules/generated/sklearn.manifold.SpectralEmbedding.html) | |
| Node2Vec | [(Grover and Leskovec, 2016)](https://github.com/aditya-grover/node2vec) | Local copy maintained in `node2vec/`|
| SDNE | [shenweichen/GraphEmbedding](https://github.com/shenweichen/GraphEmbedding) | | 
| Hyperbolic GCN | [HazyResearch](https://github.com/HazyResearch/hgcn) | Local copy maintained in `hgcn/`| 

## Reproducibility 

All of the embeddings were generated on the Discovery cluster with a GPU. The Discovery cluster has Intel(R) Xeon(R) CPU E5-2680 v4 @ 2.40GHz CPUs and an NVIDIA Tesla K80 GPU. 

The conda environments utilized to embed the graphs are specified in `environments/`. The `base.yml` environment was utilized to embed with SVD, HOPE, Laplacian Eigenmap, and Node2Vec; `sdne.yml` for SDNE; and `hgcn.yml` for Hyperbolic GCN. 

When embedding with SDNE on the discovery cluster, cuda version 9.0 was loaded with `module load cuda/9.0`.

For HGCN, it is necessary to execute `source set_env.sh` in `hgcn/` prior to launching the GPU. Then, after launching the GPU, as with SDNE, load cuda version 9.0 with `module load cuda/9.0`. 

## Contact / Contribute 

For questions or requests to contribute/modify the repository please reach out to David Liu at [liu.davi@northeastern.edu](liu.davi@northeastern.edu). 